<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Pacman</title>
        <style>
            * {
                padding: 0;
                margin: 0;
            }

            canvas {
                background: white;
                border: 1px solid blue;
            }
        </style>
    </head>

    <body>
        <div style="height: 100vh; display: flex; align-items: center; justify-content: center">
            <canvas id="myCanvas" width="800" height="300"></canvas>
        </div>

        <script>
            const canvas = document.getElementById("myCanvas")
            const ctx = canvas.getContext("2d")

            let mouthOpen = false

            const X = true
            const _ = false
            const board = [
                [X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X],
                [X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, _, _, _, _, _, _, _, _, X, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, X],
                [X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X, X],
            ]

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height)

                drawBoard()

                drawPacman(100, 100, "right", mouthOpen, 50)
                mouthOpen = !mouthOpen
            }

            function drawBoard() {
                let x = 0
                let y = 0

                for (const row of board) {
                    for (const cell of row) {
                        if (cell) {
                            ctx.beginPath()
                            ctx.rect(x, y, 20, 20)
                            ctx.fillStyle = "darkblue"
                            ctx.fill()
                            ctx.closePath()
                        }
                        x += 20
                    }
                    y += 20
                    x = 0
                }
            }

            function drawPacman(x, y, direction, mouth, size) {
                // Body
                ctx.beginPath()
                ctx.fillStyle = "rgb(255,221,0)"
                const startAngle = (mouth ? 0.25 : 0.1) * Math.PI
                ctx.arc(x, y, size, startAngle, startAngle + Math.PI, false)
                ctx.fill()
                ctx.beginPath()
                const startAngle2 = (mouth ? 0.75 : 0.9) * Math.PI
                ctx.arc(x, y, size, startAngle2, startAngle2 + Math.PI, false)
                ctx.fill()

                // Eye
                ctx.beginPath()
                ctx.arc(x, y - size / 2, size / 5, 0, 2 * Math.PI, false)
                ctx.fillStyle = "rgb(0, 0, 0)"
                ctx.fill()
            }

            setInterval(draw, 200)
        </script>
    </body>
</html>
